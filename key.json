[
    // ===== TERMINAL SHORTCUT =====
    {
        "key": "shift+t shift+t",
        "command": "workbench.action.terminal.toggleTerminal",
        "when": "terminal.active"
    },
    {
        "key": "shift+t shift+t",
        "command": "workbench.action.terminal.new",
        "when": "!terminal.active"
    },
    
    // ===== SPACE AS VIM LEADER =====
    // Space combinations - VIM NORMAL MODE ONLY
    {
        "key": "space space",
        "command": "workbench.action.quickOpen",
        "when": "editorTextFocus && vim.mode == 'Normal'"
    },
    {
        "key": "space e",
        "command": "workbench.view.explorer",
        "when": "editorTextFocus && vim.mode == 'Normal'"
    },
    {
        "key": "space p",
        "command": "workbench.action.quickOpen",
        "when": "editorTextFocus && vim.mode == 'Normal'"
    },
    {
        "key": "space f",
        "command": "workbench.action.findInFiles",
        "when": "editorTextFocus && vim.mode == 'Normal'"
    },
    {
        "key": "space s",
        "command": "workbench.action.files.save",
        "when": "editorTextFocus && vim.mode == 'Normal'"
    },
    {
        "key": "space w",
        "command": "workbench.action.files.saveAll",
        "when": "editorTextFocus && vim.mode == 'Normal'"
    },
    {
        "key": "space q",
        "command": "workbench.action.closeActiveEditor",
        "when": "editorTextFocus && vim.mode == 'Normal'"
    },
    
    // ===== TAB NAVIGATION =====
    {
        "key": "tab",
        "command": "workbench.action.quickOpenSelectNext",
        "when": "inQuickOpen"
    },
    {
        "key": "shift+tab",
        "command": "workbench.action.quickOpenSelectPrevious", 
        "when": "inQuickOpen"
    },
    
    // ===== FILE EXPLORER OPERATIONS =====
    {
        "key": "a",
        "command": "explorer.newFile",
        "when": "filesExplorerFocus && !inputFocus"
    },
    {
        "key": "shift+a",
        "command": "explorer.newFolder",
        "when": "filesExplorerFocus && !inputFocus"
    },
    {
        "key": "d",
        "command": "deleteFile",
        "when": "filesExplorerFocus && !inputFocus"
    },
    {
        "key": "r",
        "command": "renameFile",
        "when": "filesExplorerFocus && !inputFocus"
    },
    {
        "key": "x",
        "command": "filesExplorer.cut",
        "when": "filesExplorerFocus && !inputFocus"
    },
    {
        "key": "c",
        "command": "filesExplorer.copy",
        "when": "filesExplorerFocus && !inputFocus"
    },
    {
        "key": "p",
        "command": "filesExplorer.paste",
        "when": "filesExplorerFocus && !inputFocus"
    },
    
    // ===== TAB NAVIGATION (NeoVim style) =====
    {
        "key": "shift+l",
        "command": "workbench.action.nextEditor",
        "when": "editorTextFocus && vim.mode == 'Normal'"
    },
    {
        "key": "shift+h",
        "command": "workbench.action.previousEditor",
        "when": "editorTextFocus && vim.mode == 'Normal'"
    },
    
    // ===== WINDOW NAVIGATION (FIXED - Remove vim.mode condition) =====
    // These should work EVERYWHERE, not just in Normal mode
    {
        "key": "ctrl+h",
        "command": "workbench.action.navigateLeft"
    },
    {
        "key": "ctrl+j",
        "command": "workbench.action.navigateDown"
    },
    {
        "key": "ctrl+k",
        "command": "workbench.action.navigateUp"
    },
    {
        "key": "ctrl+l",
        "command": "workbench.action.navigateRight"
    },
    
    // ===== WINDOW SPLITTING =====
    {
        "key": "ctrl+w v",
        "command": "workbench.action.splitEditorRight",
        "when": "editorTextFocus && vim.mode == 'Normal'"
    },
    {
        "key": "ctrl+w s",
        "command": "workbench.action.splitEditorDown",
        "when": "editorTextFocus && vim.mode == 'Normal'"
    },
    
    // ===== BUFFER OPERATIONS =====
    {
        "key": "ctrl+w c",
        "command": "workbench.action.closeActiveEditor",
        "when": "editorTextFocus && vim.mode == 'Normal'"
    },
    {
        "key": "ctrl+w o",
        "command": "workbench.action.closeOtherEditors",
        "when": "editorTextFocus && vim.mode == 'Normal'"
    },
    
    // ===== FOCUS NAVIGATION (FIXED) =====
    // These help move between sidebar and editor
    {
        "key": "ctrl+l",
        "command": "workbench.action.focusActiveEditorGroup",
        "when": "sideBarFocus"
    },
    {
        "key": "ctrl+h", 
        "command": "workbench.action.focusSideBar",
        "when": "editorTextFocus"
    }
]