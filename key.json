[
    // ===== TERMINAL SHORTCUT =====
    {
        "key": "shift+t shift+t",
        "command": "workbench.action.terminal.toggleTerminal",
        "when": "terminal.active"
    },
    {
        "key": "shift+t shift+t",
        "command": "workbench.action.terminal.new",
        "when": "!terminal.active"
    },
    
    // ===== CRITICAL: FIX SPACE IN TERMINAL =====
    {
        "key": "space",
        "command": "workbench.action.terminal.sendSequence",
        "args": { "text": " " },
        "when": "terminalFocus"
    },
    
    // ===== SPACE AS LEADER (EDITOR ONLY) =====
    {
        "key": "space",
        "command": "noop",
        "when": "editorTextFocus"
    },
    
    // Space combinations - EDITOR ONLY
    {
        "key": "space space",
        "command": "workbench.action.quickOpen",
        "when": "editorTextFocus"
    },
    {
        "key": "space e",
        "command": "workbench.view.explorer",
        "when": "editorTextFocus"
    },
    {
        "key": "space p",
        "command": "workbench.action.quickOpen",
        "when": "editorTextFocus"
    },
    {
        "key": "space f",
        "command": "workbench.action.findInFiles",
        "when": "editorTextFocus"
    },
    {
        "key": "space s",
        "command": "workbench.action.files.save",
        "when": "editorTextFocus"
    },
    {
        "key": "space w",
        "command": "workbench.action.files.saveAll",
        "when": "editorTextFocus"
    },
    {
        "key": "space q",
        "command": "workbench.action.closeActiveEditor",
        "when": "editorTextFocus"
    },
    
    // ===== TAB NAVIGATION =====
    {
        "key": "tab",
        "command": "workbench.action.quickOpenSelectNext",
        "when": "inQuickOpen"
    },
    {
        "key": "shift+tab",
        "command": "workbench.action.quickOpenSelectPrevious", 
        "when": "inQuickOpen"
    },
    {
        "key": "tab",
        "command": "search.focus.nextInputBox",
        "when": "searchViewletFocus"
    },
    {
        "key": "shift+tab",
        "command": "search.focus.previousInputBox",
        "when": "searchViewletFocus"
    },
    
    // ===== FILE EXPLORER OPERATIONS =====
    {
        "key": "a",
        "command": "explorer.newFile",
        "when": "filesExplorerFocus && !inputFocus"
    },
    {
        "key": "shift+a",
        "command": "explorer.newFolder",
        "when": "filesExplorerFocus && !inputFocus"
    },
    {
        "key": "d",
        "command": "deleteFile",
        "when": "filesExplorerFocus && !inputFocus"
    },
    {
        "key": "r",
        "command": "renameFile",
        "when": "filesExplorerFocus && !inputFocus"
    },
    {
        "key": "x",
        "command": "filesExplorer.cut",
        "when": "filesExplorerFocus && !inputFocus"
    },
    {
        "key": "c",
        "command": "filesExplorer.copy",
        "when": "filesExplorerFocus && !inputFocus"
    },
    {
        "key": "p",
        "command": "filesExplorer.paste",
        "when": "filesExplorerFocus && !inputFocus"
    },
    
    // ===== TAB NAVIGATION (NeoVim style) =====
    {
        "key": "shift+l",
        "command": "workbench.action.nextEditor"
    },
    {
        "key": "shift+h",
        "command": "workbench.action.previousEditor"
    },
    
    // ===== QUICK ACCESS =====
    {
        "key": "ctrl+p",
        "command": "workbench.action.quickOpen"
    },
    {
        "key": "ctrl+shift+p",
        "command": "workbench.action.showCommands"
    },
    
    // ===== WINDOW SPLITTING =====
    {
        "key": "ctrl+w v",
        "command": "workbench.action.splitEditorRight",
        "when": "editorTextFocus"
    },
    {
        "key": "ctrl+w s",
        "command": "workbench.action.splitEditorDown",
        "when": "editorTextFocus"
    },
    
    // ===== WINDOW NAVIGATION (FIXED) =====
    // Remove editorTextFocus condition so these work everywhere
    {
        "key": "ctrl+h",
        "command": "workbench.action.navigateLeft"
    },
    {
        "key": "ctrl+j",
        "command": "workbench.action.navigateDown"
    },
    {
        "key": "ctrl+k",
        "command": "workbench.action.navigateUp"
    },
    {
        "key": "ctrl+l",
        "command": "workbench.action.navigateRight"
    },
    
    // ===== BUFFER OPERATIONS =====
    {
        "key": "ctrl+w c",
        "command": "workbench.action.closeActiveEditor",
        "when": "editorTextFocus"
    },
    {
        "key": "ctrl+w o",
        "command": "workbench.action.closeOtherEditors",
        "when": "editorTextFocus"
    },
    
    // ===== VIM-STYLE NAVIGATION IN SEARCH =====
    {
        "key": "j",
        "command": "list.focusDown",
        "when": "searchViewletFocus && listFocus && !inputFocus"
    },
    {
        "key": "k",
        "command": "list.focusUp",
        "when": "searchViewletFocus && listFocus && !inputFocus"
    },
    {
        "key": "j",
        "command": "selectNextQuickOpenItem",
        "when": "inQuickOpen"
    },
    {
        "key": "k",
        "command": "selectPrevQuickOpenItem",
        "when": "inQuickOpen"
    },
    
    // ===== ADD THIS: FOCUS EDITOR FROM EXPLORER =====
    // This helps move focus from file explorer to editor
    {
        "key": "ctrl+l",
        "command": "workbench.action.focusActiveEditorGroup",
        "when": "sideBarFocus"
    },
    {
        "key": "ctrl+h", 
        "command": "workbench.action.focusSideBar",
        "when": "editorTextFocus"
    }
]